<section>
  <div class="container">
    <div class="row d-flex justify-content-center">
      <div class="col-md-12 col-lg-10 col-xl-8">
        <div class="card">
          <div class="card-body" *ngFor="let item of comments">
            <div class="d-flex flex-start align-items-center">
              <img
                *ngIf="item.user != null && item.user._id != currentUser._id"
                class="rounded-circle shadow-1-strong me-3"
                src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(18).webp"
                alt="avatar"
                width="60"
                height="60"
              />
              <img
                *ngIf="item.user == null"
                class="rounded-circle shadow-1-strong me-3"
                src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(17).webp"
                alt="avatar"
                width="60"
                height="60"
              />
              <img
                *ngIf="item.user != null && item.user._id == currentUser._id"
                class="rounded-circle shadow-1-strong me-3"
                src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(19).webp"
                alt="avatar"
                width="60"
                height="60"
              />
              <div>
                <h6 class="fw-bold text-primary mb-1" *ngIf="item.user != null">
                  {{ item.user.username }}
                </h6>
                <h6 class="fw-bold text-primary mb-1" *ngIf="item.user == null">
                  Anonimus user
                </h6>

                <p class="text-muted small mb-0">Shared publicly</p>
              </div>
            </div>

            <p class="mt-3 mb-4 pb-2">
              {{ item.text }}
            </p>
            <button
              *ngIf="
                item.user != null && item.user.username == currentUser.username
              "
              class="ml-5 btn btn-outline-danger btn-sm"
              (click)="deleteComment(item._id)"
            >
              Delete comment
            </button>
          </div>
          <hr />
          <div
            class="card-footer py-3 border-0"
            style="background-color: #f8f9fa"
          >
            <div class="d-flex flex-start w-100">
              <img
                class="rounded-circle shadow-1-strong me-3"
                src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(19).webp"
                alt="avatar"
                width="40"
                height="40"
              />
              <div class="form-outline w-100">
                <textarea
                  class="form-control"
                  id="textAreaExample"
                  [(ngModel)]="newComment.text"
                  rows="4"
                  style="background: #fff"
                ></textarea>
                <label class="form-label" for="textAreaExample">Message</label>
              </div>
            </div>
            <div class="float-end mt-2 pt-1">
              <button
                type="button"
                (click)="addComment()"
                class="btn btn-primary btn-dark"
              >
                Post comment
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
